<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>[TE2] Fundamentos de arquitectura</title>
    <meta charset="utf-8" />
    <meta name="author" content="Carlos Granell" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link rel="stylesheet" href="assets/css/cgc-xaringan-style.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">






name: title
class: left, top
background-image: url(images/rawpixel/florence-cathedral.jpg)
background-size: cover

# .fancy[[TE2] Fundamentos de arquitectura]

### &amp;#183; Estilos de arquitectura

&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;


.right[Carlos Granell&amp;#183; Universitat Jaume I]

.right[EI1039 - Diseño de Software &amp;#183; Sep 2023]


???

Florence cathrdral. Gothic style. Original public domain image from Wikimedia Commons.
Image credits: [Rawpixel.com](https://www.rawpixel.com/image/3286364)


---
class: center
# Recuerda: Dimensiones arquitectura

&lt;img src="images/FundamentalsSoftwareArquitecture02.png" width="70%"/&gt;

???

Image credits: .small[&lt;a name=cite-richards2020&gt;&lt;/a&gt;[[RF20](#bib-richards2020)]]


---

.pull-left[

&lt;img src="images/FundamentalsSoftwareArchitecture00.jpg" width="95%"/&gt;


]

.pull-right[

### By Mark Richards, Neal Ford

### Released January 2020

.large[Capítulos 9 - 18 .small[[[RF20](#bib-richards2020)]]]

]

---
class: inverse, center, middle

# ¿Estructura o estilo de arquitectura?

--

## .acidinline[como se estructura o organiza todo el backend e interfaces de usuario.]

--

.large[Spoiler: Seminarios 2, 3 y 4]


---
class: center
# Categorías de estilos de arquitectura

.pull-left[

## .fatinline[Monolíticos]

### Por capas
### Pipeline
### Microkernel

]

--

.pull-right[

## .acidinline[Distribuidos]

### Event-driven
### Service-oriented
### Microservicios

]

???

Monolítico: una única unidad de código
Distribuídos: varias unidades/nodos conectadas con protocolos de acceso remoto

---
# .center[.fatinline[Estilos monolíticos]]

.left-column[
### Por capas (_n-tiers_)

]

.right-column[

&lt;img src="images/FundamentalsSoftwareArquitecture11.png" width="65%"/&gt;

]

???

Image credits: .small[[[RF20](#bib-richards2020)]]


---
# .center[.fatinline[Estilos monolíticos]]

.left-column[
### Por capas

]

.right-column[

&lt;img src="images/FundamentalsSoftwareArquitecture11.png" width="65%"/&gt;

- .large[**Separation of concerns**] 
- .large[Layers of isolation]
- .large[Partición de capas por criterios tecnológicos]

]

???

Separation of concerns: Componentes en una capas solo saben de la lógica de esa capa. At the class level, not to mix abstraction levels in the same method; not to mix responsibilities in the same method and class.

Layers of isolation: Modificaciones en una capa no afectan a otras; capas independientes/desacopladas

Partición por criterios tecnólogicos: Componentes, en lugar de agruparse por dominio (como clientes), se agrupan por su función técnica en la arquitectura (presentación, negocio)


---
# .center[.fatinline[Estilos monolíticos]]

.left-column[
### Por capas

]

.right-column[

.large[Layered Architectures are consequence of applying **separation of concerns** to application structure .small[&lt;a name=cite-nogueira2022&gt;&lt;/a&gt;[[Nog22](https://medium.com/@nogueira.cc/4-2-layered-architecture-313329082989)]]]

- Model View Controller (MVC) 
- Model View Presenter (MVP) 
- Hexagonal Architecture 
- Onion Architecture 
- Clean Architecture

]

???


---
# .center[.fatinline[Estilos monolíticos]]

.left-column[
### Por capas
### Pipeline (|)

]

.right-column[

&lt;img src="images/FundamentalsSoftwareArquitecture12.png" width="75%"/&gt;

]

???

Pipes &amp; filters transforman documentos/datos/mensajes de forma concatenada

Image credits: .small[[[RF20](#bib-richards2020)]]


---
# .center[.fatinline[Estilos monolíticos]]

.left-column[
### Por capas
### Pipeline (|)

]

.right-column[

&lt;img src="images/TesisLuis_flowDataIngestion.png" width="75%"/&gt;


&gt; Según .small[&lt;a name=cite-rodriguez2021&gt;&lt;/a&gt;[[Rod21](https://www.tdx.cat/handle/10803/671588)]], con respecto a la gestión de datos de entrada en streaming, el primer componente en el paso __5__ es un sistema de mensajería basado en [Apache Kafka](https://kafka.apache.org/), que asegura la __recepción, buffer y ruteo__ del flujo de datos en streaming. 

- .large[herramientas ETL (_extract, transform, and load_)] 
- .large[cadenas de productor-consumidor de datos]
- .large[datos en streaming (telemetría, sensores, etc)]

]

???

"The first component is the (Kafka) messaging system, which ensures reliable
handling (receive, buffer, route) of the incoming flow of data. The message system
emits and exchanges messages, which contain the metrics data payload,
through a Kafka topic to which connector applications can subscribe in order
to handle/process the data stream. One such connector application is the self-developed
persistence component, which connects to the (Kafka) messaging system
and persists the messages in the (Cassandra) database" (pg 89)

Image credits: .small[[[Rod21](https://www.tdx.cat/handle/10803/671588)]]


---
# .center[.fatinline[Estilos monolíticos]]

.left-column[
### Por capas
### Pipeline
### Microkernel

]

.right-column[

&lt;img src="images/FundamentalsSoftwareArquitecture13.png" width="75%"/&gt;

]

???

_Core system_ es la funcional mínima/básica del sistema.

_Plug-ins_ son componentes independientes, _standalone_ que proporcionan funcionalidad adicional.

Image credits: .small[[[RF20](#bib-richards2020)]]

---
# .center[.fatinline[Estilos monolíticos]]

.left-column[
### Por capas
### Pipeline
### Microkernel

]

.right-column[

&lt;img src="images/FundamentalsSoftwareArquitecture14.png" width="75%"/&gt;

]

???

Core system es la mínima funcionalidad requirida para el sistema básico.

Plug-ins son componentes independientes que añaden funcionalidad adicional al core system

Image credits: .small[[[RF20](#bib-richards2020)]]

---
# .center[.fatinline[Estilos monolíticos]]

.left-column[
### Por capas
### Pipeline
### Microkernel

]

.right-column[

- .large[_Core system_ es extensible]

- .large[_Plug-ins_ independientes, encapsulados y autónomos (_standalone_), que se comunican con el sistema (REST, pipe, ...)]

- .large[__VSCode__ _extensions_, __Jira__ _plugins_, __Chrome__ _extensions_, __Firefox__ _add-ons_, __Alexa__ _skills_, etc. ]

]


---
# .center[.acidinline[Estilos distribuidos]]

.left-column[
### Event-driven

]

.right-column[

&lt;img src="images/FundamentalsSoftwareArquitecture15.png" width="70%"/&gt;

]

???

Productor emite un evento/tópico. Consumir se suscribe a eventos/tópicos. 

Cola de eventos facilita mensajes asíncronos.

The core purpose of event-driven architecture (EDA) is that a software design pattern which has a system of loosely coupled microservices which is used event based, both the many events are being published by system and these events are being consumed their subscribes.

It is an architecture for distributed systems, that promotes asynchronous message communication rather than a request/response pattern.


Image credits: .small[[[RF20](#bib-richards2020)]]


---
# .center[.acidinline[Estilos distribuidos]]

.left-column[
### Event-driven

]

.right-column[

-   .large[Evento: tipo de mensaje que describe lo que está occuriendo en el sistema]

-   .large[Productor emite un evento. Consumidor se suscribe a eventos] 

-   .large[EDA promueve **comunicacion asíncronoa de mensajes** (cola eventos) en vez de request/response]

-   .large[EDA como microservicios basados en eventos asíncronos]

]

???

The core purpose of event-driven architecture (EDA) is that a software design pattern which has a system of loosely coupled microservices which is used event based, both the many events are being published by system and these events are being consumed their subscribes.

It is an architecture for distributed systems, that promotes asynchronous message communication rather than a request/response pattern.


Image credits: .small[[[RF20](#bib-richards2020)]]


---
# .center[.acidinline[Estilos distribuidos]]

.left-column[
### Event-driven

]

.right-column[

.large[Broker topology]
&lt;br/&gt;&lt;br/&gt;
&lt;img src="images/FundamentalsSoftwareArquitecture16.png" width="75%"/&gt;

]

???

No hay coordinación centralizada de eventos; 

Broadcasting eventos a multiples suscriptores 

Image credits: .small[[[RF20](#bib-richards2020)]]


---
# .center[.acidinline[Estilos distribuidos]]

.left-column[
### Event-driven

]

.right-column[

.large[Mediator topology]
&lt;br/&gt;&lt;br/&gt;
&lt;img src="images/FundamentalsSoftwareArquitecture17.png" width="75%"/&gt;

]

???

Image credits: .small[[[RF20](#bib-richards2020)]]


---
# .center[.acidinline[Estilos distribuidos]]

.left-column[
### Event-driven

]

.right-column[

.large[Ejemplo: [NativeScript Task Dispatcher](https://github.com/GeoTecINIT/nativescript-task-dispatcher)], desarrollado por Alberto González y Miguel Matey .small[&lt;a name=cite-gonzalez2021&gt;&lt;/a&gt;&lt;a name=cite-gonzalez2022&gt;&lt;/a&gt;[[GM21](https://doi.org/10.5281/zenodo.4530103); [Gon+22](https://doi.org/https://doi.org/10.1016/j.pmcj.2022.101550)]]

.large[Grafo de tareas cuyas dependencias se gestionan mediante eventos - [Ejemplo](https://github.com/GeoTecINIT/nativescript-task-dispatcher#quick-start)]


]


---
# .center[.acidinline[Estilos distribuidos]]

.left-column[
### Event-driven
### Service-oriented

]

.right-column[

&lt;img src="images/FundamentalsSoftwareArquitecture18.png" width="75%"/&gt;

]

???


Image credits: .small[[[RF20](#bib-richards2020)]]


---
# .center[.acidinline[Estilos distribuidos]]

.left-column[
### Event-driven
### Service-oriented
### Microservicios

]

.right-column[

&lt;img src="images/FundamentalsSoftwareArquitecture19.png" width="75%"/&gt;

]

???

Image credits: .small[[[RF20](#bib-richards2020)]]



---
# .center[.acidinline[Estilos distribuídos]]

.left-column[
### Event-driven
### Service-oriented
### Microservicios

]

.right-column[

- .large[Domain-driven design (vs partición técnica)]

- .large[Bounded context: cada microservicio modela un dominio o workflow]

- .large[Data isolation: cada microservicio viene con su base de datos y esquema de datos]

- .large[Despligue con virtualización/contenerización]


]

---
# .center[.acidinline[Estilos distribuidos]]

.left-column[
### Event-driven
### Service-oriented
### Microservicios

]

.right-column[

&lt;img src="images/TesisLuis_architectureMetricComputation.png" width="75%"/&gt;

]


- .large[Microservicios en [Akka](https://akka.io/) para computación de métricas basadas en mensajes .small[[[Rod21](https://www.tdx.cat/handle/10803/671588)]]]


---
class: inverse, center, middle

# ¿te ves como .acidinline[arquitecto de software] en el futuro?


---
# Referencias

&lt;a name=bib-richards2020&gt;&lt;/a&gt;[Richards, Mark and Neal
Ford](#cite-richards2020) (2020). _Fundamentals of Software
Architecture, 1st edition_. ISBN: 978-1-492-04345-4.

&lt;a name=bib-gonzalez2021&gt;&lt;/a&gt;[González-Pérez, Alberto and Miguel
Matey-Sanz](#cite-gonzalez2021) (2021). _nativescript-task-dispatcher:
A Reactive Android-Based Task Scheduler and Dispatcher_.

&lt;a name=bib-rodriguez2021&gt;&lt;/a&gt;[Rodríguez Pupo, Luis
Enrique](#cite-rodriguez2021) (2021). "An Analytics Platform for
Integrating and Computing Spatio-Temporal Metrics in Location-aware
Games". URL:
[https://www.tdx.cat/handle/10803/671588](https://www.tdx.cat/handle/10803/671588).

&lt;a name=bib-gonzalez2022&gt;&lt;/a&gt;[González-Pérez, Alberto, Miguel
Matey-Sanz, et al.](#cite-gonzalez2022) (2022). "Using mobile devices
as scientific measurement instruments: Reliable android task
scheduling". In: _Pervasive and Mobile Computing_ 81, p. 101550. ISSN:
1574-1192.

&lt;a name=bib-nogueira2022&gt;&lt;/a&gt;[Nogueira, Ricardo](#cite-nogueira2022)
(2022). _4+2 Layered Architecture: Separation of Concerns Applied to
Software Architecture_. URL:
[https://medium.com/@nogueira.cc/4-2-layered-architecture-313329082989](https://medium.com/@nogueira.cc/4-2-layered-architecture-313329082989).
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "solarized-light",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
